{
  "version": 3,
  "sources": ["../../../../vue-3-breadcrumbs/dist/esm/breadcrumbs.js"],
  "sourcesContent": ["import { defineAsyncComponent, reactive } from 'vue';\n\nclass Breadcrumbs {\n    #vueApp\n    #router\n    constructor(vueApp) {\n        this.#vueApp = vueApp;\n        this.#router = vueApp.config.globalProperties.$router;\n        this.value = reactive([]); // breadcrumbs array\n    }\n    init() {\n        this.#router.afterEach((route, from, failure) => {\n            if (failure || (route.path === from.path && from.matched.length)) return false\n            this.setBreadcrumbsByRoute(route);\n        });\n    }\n    // Creates and sets breadcrumbs chain for route\n    setBreadcrumbsByRoute(route) {\n        if (!route) return false\n        let arPath = route.path.replace(/\\/$/, \"\").split('/');\n        let iterablePath = '';\n        let spliced = false;\n\n        arPath.forEach((item, i) => {\n            // 1. Get path for crumb\n            iterablePath += (i === 1) ? item : '/' + item;\n            let isCurrentCrumb = i + 1 >= arPath.length;\n\n            // 2. Check if this crumb already exist, delete excess crumbs\n            if (this.value[i]?._path === iterablePath) {\n                // if this is last crumb delete excess existing crumbs\n                if (isCurrentCrumb) this.value.splice(i + 1, this.value.length);\n                this.value[i].current = i + 1 >= arPath.length;\n                return false\n            } else if (!spliced && i < this.value.length) {\n                this.value.splice(i, this.value.length);\n                spliced = true;\n            }\n\n            // 3. Create and add crumb\n            const breadcrumb = this.createBreadcrumb(iterablePath, isCurrentCrumb);\n\n            if (!breadcrumb) return false\n\n            this.value.push(breadcrumb);\n        });\n    }\n    // Resolves route meta by path and creates breadcrumb object\n    createBreadcrumb(path, isCurrent = false) {\n        if (!path) return false\n        let crumbRoute = this.#router.resolve(path);\n        let breadcrumb = crumbRoute.meta?.breadcrumb;\n        if (typeof breadcrumb === 'function') breadcrumb = breadcrumb.call(null, crumbRoute, this.#vueApp);\n\n        if (!breadcrumb) return false\n\n        let isBcObject = typeof breadcrumb === 'object';\n\n        return {\n            label: (isBcObject) ? breadcrumb.label : breadcrumb,\n            link: (isBcObject && breadcrumb.link) ? breadcrumb.link : crumbRoute.path,\n            current: isCurrent,\n            _path: path\n        }\n    }\n}\n\nvar breadcrumbs = {\n    install: (app, options) => {\n        // Init breadcrumbs\n        app.config.globalProperties.$breadcrumbs = new Breadcrumbs(app);\n        app.config.globalProperties.$breadcrumbs.init();\n\n        // Component import\n        if (options?.includeComponent) {\n            const AmBreadcrumbs = defineAsyncComponent(() => import('./AmBreadcrumbs-04351cc9.js'));\n            app.component('AmBreadcrumbs', AmBreadcrumbs);\n        }\n\n    }\n};\n\nexport { breadcrumbs as default };\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAAA;AAEA,IAAM,cAAN,MAAkB;AAAA,EAGd,YAAY,QAAQ;AAFpB;AACA;AAEI,uBAAK,SAAU;AACf,uBAAK,SAAU,OAAO,OAAO,iBAAiB;AAC9C,SAAK,QAAQ,SAAS,CAAC,CAAC;AAAA,EAC5B;AAAA,EACA,OAAO;AACH,uBAAK,SAAQ,UAAU,CAAC,OAAO,MAAM,YAAY;AAC7C,UAAI,WAAY,MAAM,SAAS,KAAK,QAAQ,KAAK,QAAQ;AAAS,eAAO;AACzE,WAAK,sBAAsB,KAAK;AAAA,IACpC,CAAC;AAAA,EACL;AAAA;AAAA,EAEA,sBAAsB,OAAO;AACzB,QAAI,CAAC;AAAO,aAAO;AACnB,QAAI,SAAS,MAAM,KAAK,QAAQ,OAAO,EAAE,EAAE,MAAM,GAAG;AACpD,QAAI,eAAe;AACnB,QAAI,UAAU;AAEd,WAAO,QAAQ,CAAC,MAAM,MAAM;AAvBpC;AAyBY,sBAAiB,MAAM,IAAK,OAAO,MAAM;AACzC,UAAI,iBAAiB,IAAI,KAAK,OAAO;AAGrC,YAAI,UAAK,MAAM,CAAC,MAAZ,mBAAe,WAAU,cAAc;AAEvC,YAAI;AAAgB,eAAK,MAAM,OAAO,IAAI,GAAG,KAAK,MAAM,MAAM;AAC9D,aAAK,MAAM,CAAC,EAAE,UAAU,IAAI,KAAK,OAAO;AACxC,eAAO;AAAA,MACX,WAAW,CAAC,WAAW,IAAI,KAAK,MAAM,QAAQ;AAC1C,aAAK,MAAM,OAAO,GAAG,KAAK,MAAM,MAAM;AACtC,kBAAU;AAAA,MACd;AAGA,YAAM,aAAa,KAAK,iBAAiB,cAAc,cAAc;AAErE,UAAI,CAAC;AAAY,eAAO;AAExB,WAAK,MAAM,KAAK,UAAU;AAAA,IAC9B,CAAC;AAAA,EACL;AAAA;AAAA,EAEA,iBAAiB,MAAM,YAAY,OAAO;AAhD9C;AAiDQ,QAAI,CAAC;AAAM,aAAO;AAClB,QAAI,aAAa,mBAAK,SAAQ,QAAQ,IAAI;AAC1C,QAAI,cAAa,gBAAW,SAAX,mBAAiB;AAClC,QAAI,OAAO,eAAe;AAAY,mBAAa,WAAW,KAAK,MAAM,YAAY,mBAAK,QAAO;AAEjG,QAAI,CAAC;AAAY,aAAO;AAExB,QAAI,aAAa,OAAO,eAAe;AAEvC,WAAO;AAAA,MACH,OAAQ,aAAc,WAAW,QAAQ;AAAA,MACzC,MAAO,cAAc,WAAW,OAAQ,WAAW,OAAO,WAAW;AAAA,MACrE,SAAS;AAAA,MACT,OAAO;AAAA,IACX;AAAA,EACJ;AACJ;AA9DI;AACA;AA+DJ,IAAI,cAAc;AAAA,EACd,SAAS,CAAC,KAAK,YAAY;AAEvB,QAAI,OAAO,iBAAiB,eAAe,IAAI,YAAY,GAAG;AAC9D,QAAI,OAAO,iBAAiB,aAAa,KAAK;AAG9C,QAAI,mCAAS,kBAAkB;AAC3B,YAAM,gBAAgB,qBAAqB,MAAM,OAAO,sCAA6B,CAAC;AACtF,UAAI,UAAU,iBAAiB,aAAa;AAAA,IAChD;AAAA,EAEJ;AACJ;",
  "names": []
}
